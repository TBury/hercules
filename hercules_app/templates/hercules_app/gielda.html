{% load static %}
<!DOCTYPE html>
<html lang="pl-pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Hercules to najlepszy polski system rozliczeń dla wirtualnych spedycji w ETS2. Dołącz do nas już teraz i zostań herosem transportu!">

    <link rel="apple-touch-icon" sizes="57x57" href="{% static 'hercules_app/assets/icons/apple-icon-57x57.png}">
    <link rel="apple-touch-icon" sizes="60x60" href="{% static 'hercules_app/assets/icons/apple-icon-60x60.png' %}">
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'hercules_app/assets/icons/apple-icon-72x72.png' %}">
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'hercules_app/assets/icons/apple-icon-76x76.png' %}">
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'hercules_app/assets/icons/apple-icon-114x114.png' %}">
    <link rel="apple-touch-icon" sizes="120x120" href="{% static 'hercules_app/assets/icons/apple-icon-120x120.png' %}">
    <link rel="apple-touch-icon" sizes="144x144" href="{% static 'hercules_app/assets/icons/apple-icon-144x144.png' %}">
    <link rel="apple-touch-icon" sizes="152x152" href="{% static 'hercules_app/assets/icons/apple-icon-152x152.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'hercules_app/assets/icons/apple-icon-180x180.png' %}">
    <link rel="icon" type="image/png" sizes="192x192"
        href="{% static 'hercules_app/assets/icons/android-icon-192x192.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'hercules_app/assets/icons/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="96x96" href="{% static 'hercules_app/assets/icons/favicon-96x96.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'hercules_app/assets/icons/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'hercules_app/assets/icons/manifest.json' %} ">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="{% static 'hercules_app/icons/ms-icon-144x144.png' %}">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <link rel="stylesheet" type="text/css" href="{% static 'hercules_app/panel.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'hercules_app/main.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'hercules_app/gielda.css' %}">
    <script defer src="{% static 'hercules_app/gielda.js' %}"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <title>Giełda zleceń | Hercules</title>
</head>

<body>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        <div class="navbar-start">
            <div class="navbar-brand">
                <a class="navbar-item">
                    <img src="{% static 'hercules_app/assets/logo.png' %}" width="194" height="55">
                </a>
                <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>
        </div>
        <div class="navbar-end is-hidden-mobile">
            <a class="navbar-item">
                <figure class="image is-48x48 avatar-fig">
                    <img class="avatar" src="{% static 'hercules_app/assets/avatar_krawczyk.jpg' %}">
                </figure>
                <span class="user">
                    <p class="username">{{ driver.nick }}</p>
                    {% if driver.company_id %}
                    <p class="company">{{ driver.company.name }}</p>
                    {% endif %}
                </span>
            </a>
            <a class="navbar-item">
                <span class="icon is-medium logout">
                    <i class="fas fa-sign-out-alt"></i>
                </span>
                <p class="logout-text">Wyloguj się</p>
            </a>
        </div>
    </nav>
    <div class="wrapper">
        <div class="columns">
            <aside class="column is-2 aside is-hidden-mobile is-placed-left">
                <nav class="menu">
                    <p class="menu-label">
                        Menu główne
                    </p>
                    <ul class="menu-list">
                        <li>
                            <a href="/panel">
                                <p class="option main-site">Panel systemu</p>
                            </a>
                        </li>
                        <li>
                            <a class="panel-option" href="/download">
                                <p class="option download">Pobierz aplikację</p>
                            </a>
                        </li>
                    </ul>
                    <p class="menu-label">
                        Kierowca
                    </p>
                    <ul class="menu-list">
                        <li>
                            <a href='/drivers-card'>
                                <p class="option driver-card">Karta kierowcy</p>
                            </a>
                        </li>
                        <li>
                            <a href="/add-delivery">
                                <p class="option add-delivery">Dodaj dostawę</p>
                            </a>
                        </li>
                        <li>
                            <a href="/Gielda/Offers">
                                <p class="option gielda">Giełda zleceń</p>
                            </a>
                        </li>
                        <li>
                            <a href="/Dispositions">
                                <p class="option dispositions">Dyspozycje</p>
                            </a>
                        </li>
                    </ul>
                    <p class="menu-label">
                        Spedycja
                    </p>
                    <ul class="menu-list">
                        <li>
                            <a>
                                <p class="option search-company">
                                    Znajdź firmę
                                </p>
                            </a>
                        </li>
                        <li>
                            <a>
                                <p class="option vehicles">Twoje pojazdy</p>
                            </a>
                        </li>
                        <li>
                            <a>
                                <p class="option deliveries">Twoje dostawy</p>
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main class="column main">
                <header>
                    <h1 class="title">Giełda zleceń</h1>
                    <div class="box card filters">
                        <form action="/Gielda/show-offers" method="GET">
                            <div class="columns">
                                <div class="column is-3">
                                    <div class="field">
                                        <p class="control">
                                            <input class="input" type="text" name="loading_city" placeholder="Miasto załadunku">
                                        </p>
                                    </div>
                                </div>
                                <div class="column is-3">
                                    <div class="field">
                                        <p class="control">
                                            <input class="input" type="text"
                                            name="unloading_city" placeholder="Miasto rozładunku">
                                        </p>
                                    </div>
                                </div>
                                <div class="column">
                                    <div class="dropdown">
                                        <div class="select">
                                            <select name="income_min" class="dropdown-content">
                                                <option value="" selected class="option-placeholder">Cena od</option>
                                               <option value="1000">
                                                    1 000 PLN
                                                </a>
                                               <option value="5000">
                                                    5 000 PLN
                                                </a>
                                               <option value="10000">
                                                    10 000 PLN
                                                </a>
                                               <option value="15000">
                                                    15 000 PLN
                                                </a>
                                               <option value="20000">
                                                    20 000 PLN
                                                </a>
                                               <option value="30000">
                                                    30 000 PLN
                                                </a>
                                               <option value="35000">
                                                    35 000 PLN
                                                </a>
                                               <option value="40000">
                                                    40 000 PLN
                                                </a>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="dropdown">
                                        <div class="select">
                                            <select name="income_max" class="dropdown-content">
                                                <option value="" selected class="option-placeholder">Cena do</option>
                                                <option value="1000">
                                                    1 000 PLN
                                                    </a>
                                                <option value="5000">
                                                    5 000 PLN
                                                    </a>
                                                <option value="10000">
                                                    10 000 PLN
                                                    </a>
                                                <option value="15000">
                                                    15 000 PLN
                                                    </a>
                                                <option value="20000">
                                                    20 000 PLN
                                                    </a>
                                                <option value="30000">
                                                    30 000 PLN
                                                    </a>
                                                <option value="35000">
                                                    35 000 PLN
                                                    </a>
                                                <option value="40000">
                                                    40 000 PLN
                                                    </a>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="columns">
                                <div class="column is-3">
                                    <div class="field">
                                        <p class="control">
                                            <input class="input" type="text"
                                            name="loading_country" placeholder="Kraj załadunku">
                                        </p>
                                    </div>
                                </div>
                                <div class="column is-3">
                                    <div class="field">
                                        <p class="control">
                                            <input class="input" type="text"
                                            name="unloading_country" placeholder="Kraj rozładunku">
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="button search-offers">Szukaj zleceń</button>
                        </form>
                    </div>
                    <form class="sort-form" action="/Gielda/show-offers" method="GET">
                    <div class="sort">
                        <div class="select sort-select">
                            <select class="sort_by" name="sort_by">
                                <option value="">Wyróżnione zlecenia</option>
                                <option value="-price" {% if sort_by == '-price' %} selected {% endif %}>Najdroższe</option>
                                <option value="price" {% if sort_by == 'price' %} selected {% endif %}>Najtańsze</option>
                                <option value="-tonnage" {% if sort_by == '-tonnage' %} selected {% endif %}>Najcięższe</option>
                                <option value="tonnage" {% if sort_by == 'tonnage' %} selected {% endif %}>Najlżejsze</option>
                                <option value="-created_at" {% if sort_by == '-created_at' %} selected {% endif %}>Najnowsze</option>
                            </select>
                        </div>
                    </div>
                    </form>
                    {% for offer in offers %}
                    <div class="box card offer-container">
                        <div class="columns offer">
                            <div class="column place">
                                {% with 'hercules_app/assets/countries/'|add:offer.loading_country|add:'.png' as image_static %}
                                <img src="{% static image_static %}" class="country-icon">
                                {% endwith %}
                                <span class="city-and-company">
                                    <p class="city">{{ offer.loading_city }}</p>
                                    {% with 'hercules_app/assets/companies/'|add:offer.loading_spedition|add:'.png' as image_static %}
                                    <img src="{% static image_static %}" class="company">
                                    {% endwith %}
                                </span>
                            </div>
                            <div class="column place">
                                {% with 'hercules_app/assets/countries/'|add:offer.unloading_country|add:'.png' as image_static %}
                                <img src="{% static image_static %}" class="country-icon">
                                {% endwith %}
                                <span class="city-and-company">
                                    <p class="city">{{ offer.unloading_city }}</p>
                                    {% with 'hercules_app/assets/companies/'|add:offer.unloading_spedition|add:'.png' as image_static %}
                                    <img src="{% static image_static %}" class="company">
                                    {% endwith %}
                                </span>
                            </div>
                            <div class="column">
                                <span class="cargo">
                                    <b>{{ offer.cargo }}</b>
                                    <br>
                                    {{ offer.tonnage }} kg
                                </span>
                            </div>
                            <div class="column">
                                <span class="trailer">
                                    {{ offer.trailer }}
                                </span>
                            </div>
                            <div class="column">
                                <span class="income">
                                    <b>{{ offer.price }} zł</b>
                                </span>
                            </div>
                            <div class="column">
                                <a href="{{ offer.id }}" class="button check-details is-rounded">Sprawdź szczegóły</a>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </header>
            </main>
        </div>
    </div>
</body>

</html>